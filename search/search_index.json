{"config":{"indexing":"full","lang":["en"],"min_search_length":3,"prebuild_index":false,"separator":"[\\s\\-]+"},"docs":[{"location":"","text":"README \u0110\u00e2y l\u00e0 n\u01a1i l\u01b0u tr\u1eef l\u1ea1i nh\u1eefng ki\u1ebfn th\u1ee9c v\u1ec1 c\u00f4ng ngh\u1ec7 m\u00ecnh h\u1ecdc \u0111\u01b0\u1ee3c trong qu\u00e1 tr\u00ecnh h\u1ecdc t\u1eadp v\u00e0 l\u00e0m vi\u1ec7c.","title":"Home"},{"location":"#readme","text":"\u0110\u00e2y l\u00e0 n\u01a1i l\u01b0u tr\u1eef l\u1ea1i nh\u1eefng ki\u1ebfn th\u1ee9c v\u1ec1 c\u00f4ng ngh\u1ec7 m\u00ecnh h\u1ecdc \u0111\u01b0\u1ee3c trong qu\u00e1 tr\u00ecnh h\u1ecdc t\u1eadp v\u00e0 l\u00e0m vi\u1ec7c.","title":"README"},{"location":"web/nginx/","text":"Trong b\u00e0i n\u00e0y ch\u00fang ta s\u1ebd t\u00ecm hi\u1ec3u v\u1ec1 nginx, nh\u1eb1m tr\u1ea3 l\u1eddi cho hai c\u00e2u h\u1ecfi c\u01a1 b\u1ea3n: nginx l\u00e0 g\u00ec? C\u00e0i \u0111\u1eb7t c\u1ea5u h\u00ecnh nginx nh\u01b0 n\u00e0o? V\u00ec n\u1ed9i dung t\u1eadp trung v\u1ec1 kh\u00eda c\u1ea1nh k\u1ef9 thu\u1eadt c\u1ee7a nginx, n\u00ean m\u00ecnh s\u1ebd l\u01b0\u1ee3c b\u1ecf nh\u1eefng n\u1ed9i dung li\u00ean quan \u0111\u1ebfn t\u00e1c gi\u1ea3, c\u1ed9t m\u1ed1c, hay l\u1ecbch s\u1eed ph\u00e1t tri\u1ec3n. B\u1ea1n c\u00f3 th\u1ec3 xem nh\u1eefng th\u00f4ng tin \u0111\u00f3 v\u00e0 c\u00e1ch c\u00e0i \u0111\u1eb7t \u1edf \u0111\u00e2y . L\u01b0u \u00fd b\u1ea1n n\u00ean n\u1eafm v\u1eefng m\u1ed9t s\u1ed1 kh\u00e1i ni\u1ec7m c\u01a1 b\u1ea3n li\u00ean quan \u0111\u1ebfn nginx tr\u01b0\u1edbc bao g\u1ed3m: HTTP Web Server Reverse Proxy Load Balancer Content Cache TCP/UDP Proxy Server Mail Proxy Server \u0110\u1ec3 thu\u1eadn ti\u1ec7n, trong b\u00e0i vi\u1ebft n\u00e0y m\u00ecnh c\u0169ng s\u1ebd t\u00f3m t\u1eaft nh\u1eefng n\u1ed9i dung m\u00ecnh ngh\u0129 l\u00e0 c\u1ea7n thi\u1ebft ph\u1ea3i bi\u1ebft c\u1ee7a nh\u1eefng kh\u00e1i ni\u1ec7m \u0111\u00e3 n\u00eau ra \u1edf tr\u00ean. HTTP Web Server l\u00e0 g\u00ec? HTTP Web Server hay m\u00e1y ch\u1ee7 HTTP l\u00e0 m\u1ed9t ph\u1ea7n m\u1ec1m hay m\u00e1y t\u00ednh giao ti\u1ebfp v\u1edbi client th\u00f4ng qua ph\u01b0\u01a1ng th\u1ee9c HTTP (HyperText Trasfer Protocol)/HTTPS. C\u1ee5 th\u1ec3, server s\u1ebd ti\u1ebfp nh\u1eadn nh\u1eefng y\u00eau c\u1ea7u (request) t\u1eeb client, sau \u0111\u00f3 x\u1eed l\u00fd v\u00e0 g\u1eedi l\u1ea1i ph\u1ea3n h\u1ed3i (response) tr\u1edf l\u1ea1i client. The HTTP server \u0110\u1ec3 \u0111\u00e1p \u1ee9ng \u0111\u01b0\u1ee3c nh\u1eefng x\u1eed l\u00fd tr\u00ean, HTTP Server c\u1ea7n c\u00f3 nh\u1eefng t\u00ednh n\u0103ng sau \u0111\u00e2y: H\u1ed7 tr\u1ee3 giao ti\u1ebfp HTTP c\u01a1 b\u1ea3n X\u1eed l\u00fd n\u1ed9i dung t\u0129nh v\u00e0 \u0111\u1ed9ng H\u1ed7 tr\u1ee3 b\u1ea3o m\u1eadt: M\u00e3 ho\u00e1 d\u1eef li\u1ec7u trao \u0111\u1ed5i gi\u1eefa server v\u00e0 client v\u1edbi SSL/TLS. Logging: ghi l\u1ea1i nh\u1eadt k\u00fd truy c\u1eadp, x\u1eed l\u00fd hay l\u1ed7i. v.v Reverse Proxy l\u00e0 g\u00ec? Reverse Proxy server hay m\u00e1y ch\u1ee7 Proxy l\u00e0 m\u00e1y ch\u1ee7 trung gian gi\u1eefa client v\u00e0 server \u0111\u00edch. Khi client g\u1eedi y\u00eau c\u1ea7u , y\u00eau c\u1ea7u s\u1ebd \u0111i qua m\u00e1y ch\u1ee7 proxy tr\u01b0\u1edbc khi \u0111\u01b0\u1ee3c chuy\u1ec3n ti\u1ebfp \u0111\u1ebfn server \u0111\u00edch. \u1ede chi\u1ec1u ng\u01b0\u1ee3c l\u1ea1i, khi server g\u1eedi l\u1ea1i ph\u1ea3n h\u1ed3i \u0111\u1ebfn client c\u0169ng ph\u1ea3i \u0111i qua proxy server r\u1ed3i m\u1edbi \u0111\u1ebfn client. Reverse Proxy Flow V\u00ec sao l\u1ea1i c\u1ea7n s\u1eed d\u1ee5ng server trung gian nh\u01b0 proxy server? Reverse Proxy server s\u1ebd cung c\u1ea5p cho ch\u00fang ta nh\u1eefng t\u00ednh n\u0103ng nh\u01b0 sau: B\u1ea3o m\u1eadt : \u1ea8n th\u00f4ng tin c\u1ee7a server \u0111\u00edch, tr\u00e1nh nh\u1eefng cu\u1ed9c t\u1ea5n c\u00f4ng nh\u01b0 DDoS. Qu\u1ea3n l\u00fd truy c\u1eadp : Ki\u1ec3m so\u00e1t, gi\u00e1m s\u00e1t v\u00e0 h\u1ea1n ch\u1ebf truy c\u1eadp t\u1eeb internet \u0111\u1ebfn server \u0111\u00edch. Qu\u1ea3n l\u00fd l\u01b0u l\u01b0\u1ee3ng : Ph\u00e2n b\u1ed1 l\u01b0u l\u01b0\u1ee3ng \u0111\u1ebfn c\u00e1c server kh\u00e1c nhau (c\u00e2n b\u1eb1ng t\u1ea3i - Load Balancer) B\u1ed9 nh\u1edb \u0111\u1ec7m (Caching) : L\u01b0u tr\u1eef t\u1ea1m c\u00e1c d\u1eef li\u1ec7u hay c\u00e1c t\u1ec7p nh\u01b0 html, css, .v.v nh\u1eb1m c\u1ea3i thi\u1ec7n hi\u1ec7u n\u0103ng. v.v Load Balancer l\u00e0 g\u00ec Load Balancer hay c\u00e2n b\u1eb1ng t\u1ea3i \u0111\u01b0\u1ee3c d\u00f9ng \u0111\u1ec3 \u0111i\u1ec1u ch\u1ec9nh l\u01b0u l\u01b0\u1ee3ng truy c\u1eadp (traffic) \u0111\u1ebfn nhi\u1ec1u server (m\u00e1y ch\u1ee7) kh\u00e1c nhau trong h\u1ec7. \u0110i\u1ec1u n\u00e0y nh\u1eb1m \u0111\u1ea3m b\u1ea3o hi\u1ec7u n\u0103ng, t\u00ednh s\u1eb5n s\u00e0ng v\u00e0 \u0111\u1ed9 tin c\u1eady c\u1ee7a h\u1ec7 th\u1ed1ng. Tr\u00e1nh tr\u01b0\u1eddng h\u1ee3p server n\u00e0o \u0111\u00f3 b\u1ecb qu\u00e1 t\u1ea3i v\u00e0 kh\u00f4ng th\u1ec3 ph\u1ea3n h\u1ed3i v\u1ec1 client. Ngo\u00e0i ra khi s\u1eed d\u1ee5ng Load Balancer, ch\u00fang ta c\u00f3 th\u1ec3 d\u1ec5 d\u00e0ng th\u00eam b\u1edbt s\u1ed1 l\u01b0\u1ee3ng trong h\u1ec7 th\u1ed1ng. Content Cache Content Cache hay b\u1ed9 nh\u1edb \u0111\u1ec7m n\u1ed9i dung \u0111\u01b0\u1ee3c d\u00f9ng \u0111\u1ec3 l\u01b0u tr\u1eef t\u1ea1m th\u1eddi nh\u1eefng n\u1ed9i dung \u0111\u00e3 \u0111\u01b0\u1ee3c l\u1ea5y t\u1eeb server, nh\u1eb1m tr\u00e1nh vi\u1ec7c ph\u1ea3i t\u1ea3i l\u1ea1i nh\u1eefng n\u1ed9i dung \u0111\u00f3 m\u1ed7i khi c\u00f3 y\u00eau c\u1ea7u. M\u1ee5c ti\u00eau c\u1ee7a Cache nh\u1eb1m t\u0103ng t\u1ed1c \u0111\u1ed9 truy c\u1eadp, v\u00e0 gi\u1ea3m t\u1ea3i cho c\u00e1c server. TCP/UDP Proxy Server TCP/UDP Proxy l\u00e0 proxy server trung gian gi\u1eefa client v\u00e0 server \u0111\u00edch. Server n\u00e0y x\u1eed l\u00fd c\u00e1c k\u1ebft n\u1ed1i TCP v\u00e0 UDP. Mail Proxy Server Mail Proxy Server l\u00e0 m\u1ed9t lo\u1ea1i proxy server d\u00f9ng \u0111\u1ec3 qu\u1ea3n l\u00fd v\u00e0 chuy\u1ec3n ti\u1ebfp mail gi\u1eefa server g\u1eedi v\u00e0 server nh\u1eadn th\u00f4ng qua c\u00e1c protocol SMTP, IMAP, POP3. nginx l\u00e0 g\u00ec? nginx (hay engine x) l\u00e0 m\u1ed9t m\u00e3 ngu\u1ed3n m\u1edf, \u0111\u01b0\u1ee3c s\u1eed d\u1ee5ng nh\u01b0 m\u1ed9t HTTP web server. Ngo\u00e0i ra n\u00f3 c\u0169ng c\u00f3 th\u1ec3 d\u00f9ng nh\u01b0 Reverse Proxy, Load Balancer, Content Cache, TCP/UDP Proxy Server hay Mail Proxy Server gi\u00fap t\u1ed1i \u01b0u ho\u00e1 hi\u1ec7u n\u0103ng c\u1ee7a \u1ee9ng d\u1ee5ng. N\u1ebfu b\u1ea1n n\u1eafm v\u1eefng nh\u1eefng kh\u00e1i ni\u1ec7m k\u1ec3 tr\u00ean, th\u00ec nginx c\u00f3 th\u1ec3 hi\u1ec3u \u0111\u01a1n gi\u1ea3n l\u00e0 n\u00f3 s\u1ebd th\u1ef1c hi\u1ec7n \u0111\u01b0\u1ee3c h\u1ebft nh\u1eefng t\u00ednh n\u0103ng \u0111\u00f3. M\u1ed9t s\u1ed1 c\u00e1ch c\u00e0i \u0111\u1eb7t c\u1ea5u h\u00ecnh nginx c\u01a1 b\u1ea3n V\u00ec m\u00ecnh d\u00f9ng m\u00e1y mac n\u00ean nh\u1eefng c\u00e0i \u0111\u1eb7t d\u01b0\u1edbi \u0111\u00e2y s\u1ebd d\u1ef1a tr\u00ean m\u00f4i tr\u01b0\u1eddng c\u1ee7a mac. Ki\u1ec3m tra t\u1ec7p (file) c\u00e0i \u0111\u1eb7t c\u1ea5u h\u00ecnh: % sudo nginx -t nginx: the configuration file /opt/homebrew/etc/nginx/nginx.conf syntax is ok nginx: configuration file /opt/homebrew/etc/nginx/nginx.conf test is successful $ sudo nano /opt/homebrew/etc/nginx/nginx.conf C\u1ea5u h\u00ecnh m\u1eabu Ch\u00fang ta s\u1ebd t\u00ecm hi\u1ec3u v\u1ec1 c\u1ea5u tr\u00fac c\u1ee7a t\u1ec7p c\u00e0i \u0111\u1eb7t c\u1ea5u h\u00ecnh qua c\u1ea5u h\u00ecnh m\u1eabu d\u01b0\u1edbi d\u00e2y. user nobody; # a directive in the 'main' context # C\u1ea5u h\u00ecnh s\u1ef1 ki\u1ec7n events { # configuration of connection processing } # C\u1ea5u h\u00ecnh HTTP http { # Configuration specific to HTTP and affecting all virtual servers server { # configuration of HTTP virtual server 1 location /one { # configuration for processing URIs starting with '/one' } location /two { # configuration for processing URIs starting with '/two' } } server { # configuration of HTTP virtual server 2 } } stream { # Configuration specific to TCP/UDP and affecting all virtual servers server { # configuration of TCP virtual server 1 } } nginx bao g\u1ed3m nhi\u1ec1u modules \u0111\u01b0\u1ee3c \u0111i\u1ec1u khi\u1ec3n b\u1edfi nh\u1eefng directives \u0111\u01b0\u1ee3c \u0111\u1ecbnh ngh\u0129a trong t\u1ec7p config (v\u00ed d\u1ee5: /opt/homebrew/etc/nginx/nginx.conf). Nh\u1eefng directives n\u00e0y \u0111\u01b0\u1ee3c chia ra l\u00e0m hai lo\u1ea1i: simple directive v\u00e0 block directive. \u1ede trong c\u1ea5u h\u00ecnh m\u1eabu, user nobody; l\u00e0 m\u1ed9t simple directive. Nh\u01b0 th\u1ebf ta c\u00f3 th\u1ec3 simple directive s\u1ebd bao g\u1ed3m t\u00ean user , bi\u1ebfn nobody v\u00e0 d\u1ea5u ch\u1ea5m ph\u1ea9y ; k\u1ebft th\u00fac directive. C\u00f2n v\u1edbi block directive, thay v\u00ec k\u1ebft th\u00fac v\u1edbi d\u1ea5u ch\u1ea5m ph\u1ea9y ; , n\u00f3 s\u1eed d\u1ee5ng {} v\u00e0 khai b\u00e1o c\u00e0i \u0111\u1eb7t \u1edf b\u00ean trong. V\u00ed d\u1ee5 v\u1ec1 block directive l\u00e0 events {...} . N\u1ebfu m\u1ed9t block directive c\u00f3 ch\u1ee9a nhi\u1ec1u block directive kh\u00e1c th\u00ec n\u00f3 \u0111\u01b0\u1ee3c g\u1ecdi l\u00e0 context . http{...} v\u00e0 stream {...} l\u00e0 nh\u1eefng context. Ngo\u00e0i ra n\u1ebfu m\u1ed9t directive kh\u00f4ng n\u1eb1m trong m\u1ed9t block directive n\u00e0o \u0111\u00f3, n\u00f3 s\u1ebd \u0111\u01b0\u1ee3c coi l\u00e0 n\u1eb1m trong main context . http {...} , server {...} v\u00e0 location {...} l\u00e0 nh\u1eefng core directive c\u1ee7a nginx. http {...} \u0111\u01b0\u1ee3c d\u00f9ng \u0111\u1ec3 c\u00e0i \u0111\u1eb7t c\u1ea5u h\u00ecnh c\u1ee7a HTTP server. C\u00f2n c\u1ea5u h\u00ecnh c\u1ee7a server \u1ea3o (virtual server) \u0111\u01b0\u1ee3c c\u00e0i \u0111\u1eb7t \u1edf server {...} . location {} s\u1ebd ch\u1ee9a nh\u1eefng c\u1ea5u h\u00ecnh ph\u1ee5 thu\u1ed9c v\u00e0o URI c\u1ee7a y\u00eau c\u1ea7u (request URI). Cung c\u1ea5p n\u1ed9i dung t\u0129nh (static content) \u1ede \u0111\u00e2y m\u00ecnh s\u1ebd th\u1eed c\u00e0i \u0111\u1eb7t c\u1ea5u h\u00ecnh cho ph\u00e9p server c\u00f3 th\u1ec3 cung c\u1ea5p nh\u1eefng n\u1ed9i dung t\u0129nh. T\u1ea1o file v\u00e0 folder: # T\u1ea1o folder \u0111\u1ec3 l\u01b0u file t\u0129nh nh\u01b0 html $ mkdir var/www $ mkdir var/www/test # T\u1ea1o file html $ touch var/www/test/index.html # T\u1ea1o folder \u0111\u1ec3 l\u01b0u \u1ea3nh $ mkdir var/images # Th\u00eam file var/images/example.jpg L\u00fac n\u00e0y ta c\u00f3 2 folders c\u00f3 ch\u1eefa nh\u1eefng n\u1ed9i dung t\u0129nh trong v\u00ed d\u1ee5 n\u00e0y l\u00e0 m\u1ed9t file html v\u00e0 m\u1ed9t file \u1ea3nh. Ti\u1ebfp theo, ch\u00fang ta s\u1ebd th\u1eed c\u00e0i \u0111\u1eb7t hai context location {...} nh\u01b0 d\u01b0\u1edbi \u0111\u00e2y. http { server { location / { root /var/www; } location /images/ { root /var; } } } V\u1edbi c\u1ea5u h\u00ecnh c\u00e0i \u0111\u1eb7t n\u00e0y, v\u00ec m\u00ecnh kh\u00f4ng c\u00e0i \u0111\u1eb7t port n\u00ean m\u1eb7c \u0111\u1ecbnh server s\u1ebd nh\u1eadn th\u00f4ng tin t\u1eeb port 80. Khi c\u00f3 y\u00eau c\u1ea7u (request) g\u1eedi \u0111\u1ebfn server m\u00e0 URI c\u1ee7a n\u00f3 b\u1eaft \u0111\u1ea7u v\u1edbi /images/ , server s\u1ebd g\u1eedi nh\u1eefng file n\u1eb1m trong th\u01b0 m\u1ee5c /var/images . V\u00ed d\u1ee5 khi ng\u01b0\u1eddi d\u00f9ng truy c\u1eadp http://localhost/images/example.jpg , server s\u1ebd tr\u1ea3 t\u1ec7p \u1ea3nh var/images/example.jpg . V\u1edbi nh\u1eefng y\u00eau c\u1ea7u c\u00f3 URI kh\u00f4ng b\u1eaft \u0111\u1ea7u v\u1edbi /images/ , server s\u1ebd t\u1ef1 \u0111\u1ed9ng g\u1eedi nh\u1eefng t\u1ec7p t\u1eeb th\u01b0 m\u1ee5c var/www . V\u00ed d\u1ee5 khi truy c\u1eadp http://localhost/test/index.html , server s\u1ebd tr\u1ea3 l\u1ea1i t\u1ec7p var/www/test/index.html . Trong tr\u01b0\u1eddng h\u1ee3p server kh\u00f4ng th\u1ec3 t\u00ecm \u0111\u01b0\u1ee3c file t\u01b0\u01a1ng \u1ee9ng, n\u00f3 s\u1ebd ph\u1ea3n h\u1ed3i l\u1ea1i v\u1edbi l\u1ed7i 404. Tr\u00ean \u0111\u00e2y l\u00e0 v\u00ed d\u1ee5 v\u1ec1 c\u00e1ch c\u00e0i \u0111\u1eb7t cho ph\u00e9p server c\u00f3 th\u1ec3 cung c\u1ea5p \u0111\u01b0\u1ee3c nh\u1eefng n\u1ed9i dung t\u0129nh \u0111\u1ebfn client. \u0110\u1ec3 kh\u1edfi \u0111\u1ed9ng l\u1ea1i c\u1ea5u h\u00ecnh, ch\u00fang ta c\u00f3 th\u1ec3 s\u1eed d\u1ee5ng c\u00e2u l\u1ec7nh d\u01b0\u1edbi \u0111\u00e2y. $ nginx -s reload C\u00e0i \u0111\u1eb7t c\u1ea5u h\u00ecnh Proxy Ph\u1ea7n n\u00e0y, m\u00ecnh s\u1ebd t\u00ecm hi\u1ec3u v\u1ec1 c\u00e1ch c\u00e0i \u0111\u1eb7t m\u1ed9t proxy server \u0111\u01a1n gi\u1ea3n. \u0110\u1ea7u ti\u00ean ch\u00fang ta s\u1ebd th\u00eam m\u1ed9t server \u1ea3o v\u00e0o c\u1ea5u h\u00ecnh \u1edf v\u00ed d\u1ee5 tr\u00ean. http { server { location / { root /var/www; } location /images/ { root /var; } } # Th\u00eam c\u1ea5u h\u00ecnh server m\u1edbi server { listen 8080; root /var/up1; location / { } } } Server \u0111\u01b0\u1ee3c th\u00eam m\u1edbi n\u00e0y s\u1ebd nh\u1eadn \u0111\u01b0\u1ee3c nh\u1eefng y\u00eau c\u1ea7u g\u1eedi \u0111\u1ebfn port 8080, v\u00e0 s\u1ebd t\u00ecm nh\u1eefng d\u1eef li\u1ec7u n\u1eb1m trong th\u01b0 m\u1ee5c var/up1 . V\u00ec server ch\u01b0a c\u00f3 th\u01b0 m\u1ee5c n\u00e0y, ta c\u00f3 th\u1ec3 t\u1ea1o th\u01b0 m\u1ee5c v\u00e0 th\u00eam file v\u1edbi nh\u1eefng c\u00e2u l\u1ec7nh sau: $ mkdir var/up1 $ touch var/up1/index.html Ti\u1ebfp theo ch\u00fang ta s\u1eed d\u1ee5ng proxy_pass v\u00e0 ch\u1ec9nh s\u1eeda location / {...} \u1edf m\u1ee5c tr\u01b0\u1edbc. http { server { location / { proxy_pass http://localhost:8080; } location /images/ { root /var; } } # Th\u00eam c\u1ea5u h\u00ecnh server m\u1edbi server { listen 8080; root /var/up1; location / { } } } L\u00fac n\u00e0y, n\u1ebfu ch\u00fang ta g\u1eedi y\u00eau c\u1ea7u (request) \u0111\u1ebfn \u0111\u1ecba ch\u1ec9 http://localhost v\u00e0 URI kh\u00f4ng b\u1eaft \u0111\u1ea7u v\u1edbi /images/ , nh\u1eefng y\u00eau c\u1ea7u n\u00e0y s\u1ebd \u0111\u01b0\u1ee3c g\u1eedi qua proxy server. C\u00e0i \u0111\u1eb7t c\u1ea5u h\u00ecnh Load Balancer Ch\u00fang ta s\u1ebd qua m\u1ed9t v\u00ed d\u1ee5 kh\u00e1c v\u1ec1 c\u00e1ch c\u00e0i \u0111\u1eb7t c\u1ea5u h\u00ecnh c\u00e2n b\u1eb1ng t\u1ea3i - Load Balancer. M\u00ecnh c\u00f3 c\u1ea5u h\u00ecnh \u0111\u01b0\u1ee3c c\u00e0i \u0111\u1eb7t nh\u01b0 sau: http { upstream backend { server backend1.example.com; server backend2.example.com; server 192.0.0.1 backup; } server { location / { proxy_pass http://backend; } } } \u1ede \u0111\u00e2y, c\u1ea7u h\u00ecnh n\u00e0y c\u00f3 s\u1eed d\u1ee5ng proxy_pass cho ph\u00e9p server chuy\u1ec3n t\u1ea5t c\u1ea3 nh\u1eefng y\u00eau c\u1ea7u \u0111\u1ebfn group server c\u00f3 t\u00ean l\u00e0 backend (t\u00ean n\u00e0y th\u00ec \u0111\u1eb7t th\u1ebf n\u00e0o c\u0169ng \u0111\u01b0\u1ee3c). Group n\u00e0y c\u00f3 ch\u1ee9a ba server l\u00e0 backend1.example.com , backend2.example.com v\u00e0 192.0.0.1 . V\u00ec c\u1ea5u h\u00ecnh n\u00e0y kh\u00f4ng ch\u1ec9 r\u00f5 thu\u1eadt to\u00e1n n\u00e0o \u0111\u01b0\u1ee3c s\u1eed d\u1ee5ng \u0111\u1ec3 d\u00f9ng cho vi\u1ec7c qu\u1ea3n l\u00fd l\u01b0u l\u01b0\u1ee3ng truy c\u1eadp, n\u00ean server s\u1ebd s\u1eed d\u1ee5ng thu\u1eadt to\u00e1n m\u1eb7c \u0111\u1ecbnh l\u00e0 Round Robin . C\u00f3 m\u1ed9t l\u01b0u \u00fd, tuy m\u00ecnh c\u00f3 3 server trong group, nh\u01b0 server 192.0.0.1 \u0111\u01b0\u1ee3c c\u00e0i \u0111\u1eb7t l\u00e0 backup n\u00ean n\u00f3 ch\u1ec9 ho\u1ea1t \u0111\u1ed9ng khi hai server c\u00f2n l\u1ea1i kh\u00f4ng th\u1ec3 ho\u1ea1t \u0111\u1ed9ng. Ti\u1ebfp theo ch\u00fang ta s\u1ebd th\u1eed c\u00e0i \u0111\u1eb7t th\u00eam weight nh\u01b0 sau: http { upstream backend { server backend1.example.com weight=5; server backend2.example.com; server 192.0.0.1 backup; } server { location / { proxy_pass http://backend; } } } L\u00fac n\u00e0y c\u1ee9 6 y\u00eau c\u1ea7u \u0111\u01b0\u1ee3c g\u1eedi \u0111\u1ebfn server, th\u00ec 5 trong s\u1ed1 \u0111\u00f3 s\u1ebd \u0111\u01b0\u1ee3c g\u1eedi \u0111\u1ebfn backend1.example.com v\u00e0 1 y\u00eau c\u1ea7u s\u1ebd \u0111\u1ebfn backend2.example.com . Tr\u00ean \u0111\u00e2y l\u00e0 v\u00ed d\u1ee5 v\u1ec1 m\u1ed9t c\u00e2n b\u1eb1ng t\u1ea3i \u0111\u01a1n gi\u1ea3n. B\u1ea1n c\u00f3 th\u1ec3 xem th\u00eam nh\u1eefng c\u00e1ch c\u00e0i \u0111\u1eb7t kh\u00e1c \u1edf \u0111\u00e2y . T\u1ed5ng k\u1ebft Trong b\u00e0i n\u00e0y ch\u00fang ta \u0111\u00e3 t\u00ecm hi\u1ec3u v\u1ec1 nh\u1eefng kh\u00e1i ni\u1ec7m c\u01a1 b\u1ea3n c\u1ee7a ngix c\u00f9ng nh\u1eefng kh\u00e1i ni\u1ec7m li\u00ean quan kh\u00e1c. Ngo\u00e0i ra th\u00ec m\u00ecnh c\u0169ng c\u00f3 th\u00eam nh\u1eefng v\u00ed d\u1ee5 v\u1ec1 m\u1ed9t s\u1ed1 c\u00e1ch c\u00e0i \u0111\u1eb7t c\u1ea5u h\u00ecnh \u0111\u01a1n gi\u1ea3n. Hy v\u1ecdng n\u00f3 c\u00f3 th\u1ec3 gi\u00fap \u00edch cho ch\u00ednh b\u1ea3n th\u00e2n m\u00ecnh, hay ai \u0111\u00f3 \u0111\u1ecdc \u0111\u01b0\u1ee3c b\u00e0i vi\u1ebft n\u00e0y khi s\u1eed d\u1ee5ng nginx. T\u00e0i li\u1ec7u tham kh\u1ea3o Beginner\u2019s Guide Creating NGINX Plus and NGINX Configuration Files Load Balancer","title":"T\u00ecm hi\u1ec3u v\u1ec1 nginx"},{"location":"web/nginx/#http-web-server-la-gi","text":"HTTP Web Server hay m\u00e1y ch\u1ee7 HTTP l\u00e0 m\u1ed9t ph\u1ea7n m\u1ec1m hay m\u00e1y t\u00ednh giao ti\u1ebfp v\u1edbi client th\u00f4ng qua ph\u01b0\u01a1ng th\u1ee9c HTTP (HyperText Trasfer Protocol)/HTTPS. C\u1ee5 th\u1ec3, server s\u1ebd ti\u1ebfp nh\u1eadn nh\u1eefng y\u00eau c\u1ea7u (request) t\u1eeb client, sau \u0111\u00f3 x\u1eed l\u00fd v\u00e0 g\u1eedi l\u1ea1i ph\u1ea3n h\u1ed3i (response) tr\u1edf l\u1ea1i client. The HTTP server \u0110\u1ec3 \u0111\u00e1p \u1ee9ng \u0111\u01b0\u1ee3c nh\u1eefng x\u1eed l\u00fd tr\u00ean, HTTP Server c\u1ea7n c\u00f3 nh\u1eefng t\u00ednh n\u0103ng sau \u0111\u00e2y: H\u1ed7 tr\u1ee3 giao ti\u1ebfp HTTP c\u01a1 b\u1ea3n X\u1eed l\u00fd n\u1ed9i dung t\u0129nh v\u00e0 \u0111\u1ed9ng H\u1ed7 tr\u1ee3 b\u1ea3o m\u1eadt: M\u00e3 ho\u00e1 d\u1eef li\u1ec7u trao \u0111\u1ed5i gi\u1eefa server v\u00e0 client v\u1edbi SSL/TLS. Logging: ghi l\u1ea1i nh\u1eadt k\u00fd truy c\u1eadp, x\u1eed l\u00fd hay l\u1ed7i. v.v","title":"HTTP Web Server l\u00e0 g\u00ec?"},{"location":"web/nginx/#reverse-proxy-la-gi","text":"Reverse Proxy server hay m\u00e1y ch\u1ee7 Proxy l\u00e0 m\u00e1y ch\u1ee7 trung gian gi\u1eefa client v\u00e0 server \u0111\u00edch. Khi client g\u1eedi y\u00eau c\u1ea7u , y\u00eau c\u1ea7u s\u1ebd \u0111i qua m\u00e1y ch\u1ee7 proxy tr\u01b0\u1edbc khi \u0111\u01b0\u1ee3c chuy\u1ec3n ti\u1ebfp \u0111\u1ebfn server \u0111\u00edch. \u1ede chi\u1ec1u ng\u01b0\u1ee3c l\u1ea1i, khi server g\u1eedi l\u1ea1i ph\u1ea3n h\u1ed3i \u0111\u1ebfn client c\u0169ng ph\u1ea3i \u0111i qua proxy server r\u1ed3i m\u1edbi \u0111\u1ebfn client. Reverse Proxy Flow V\u00ec sao l\u1ea1i c\u1ea7n s\u1eed d\u1ee5ng server trung gian nh\u01b0 proxy server? Reverse Proxy server s\u1ebd cung c\u1ea5p cho ch\u00fang ta nh\u1eefng t\u00ednh n\u0103ng nh\u01b0 sau: B\u1ea3o m\u1eadt : \u1ea8n th\u00f4ng tin c\u1ee7a server \u0111\u00edch, tr\u00e1nh nh\u1eefng cu\u1ed9c t\u1ea5n c\u00f4ng nh\u01b0 DDoS. Qu\u1ea3n l\u00fd truy c\u1eadp : Ki\u1ec3m so\u00e1t, gi\u00e1m s\u00e1t v\u00e0 h\u1ea1n ch\u1ebf truy c\u1eadp t\u1eeb internet \u0111\u1ebfn server \u0111\u00edch. Qu\u1ea3n l\u00fd l\u01b0u l\u01b0\u1ee3ng : Ph\u00e2n b\u1ed1 l\u01b0u l\u01b0\u1ee3ng \u0111\u1ebfn c\u00e1c server kh\u00e1c nhau (c\u00e2n b\u1eb1ng t\u1ea3i - Load Balancer) B\u1ed9 nh\u1edb \u0111\u1ec7m (Caching) : L\u01b0u tr\u1eef t\u1ea1m c\u00e1c d\u1eef li\u1ec7u hay c\u00e1c t\u1ec7p nh\u01b0 html, css, .v.v nh\u1eb1m c\u1ea3i thi\u1ec7n hi\u1ec7u n\u0103ng. v.v","title":"Reverse Proxy l\u00e0 g\u00ec?"},{"location":"web/nginx/#load-balancer-la-gi","text":"Load Balancer hay c\u00e2n b\u1eb1ng t\u1ea3i \u0111\u01b0\u1ee3c d\u00f9ng \u0111\u1ec3 \u0111i\u1ec1u ch\u1ec9nh l\u01b0u l\u01b0\u1ee3ng truy c\u1eadp (traffic) \u0111\u1ebfn nhi\u1ec1u server (m\u00e1y ch\u1ee7) kh\u00e1c nhau trong h\u1ec7. \u0110i\u1ec1u n\u00e0y nh\u1eb1m \u0111\u1ea3m b\u1ea3o hi\u1ec7u n\u0103ng, t\u00ednh s\u1eb5n s\u00e0ng v\u00e0 \u0111\u1ed9 tin c\u1eady c\u1ee7a h\u1ec7 th\u1ed1ng. Tr\u00e1nh tr\u01b0\u1eddng h\u1ee3p server n\u00e0o \u0111\u00f3 b\u1ecb qu\u00e1 t\u1ea3i v\u00e0 kh\u00f4ng th\u1ec3 ph\u1ea3n h\u1ed3i v\u1ec1 client. Ngo\u00e0i ra khi s\u1eed d\u1ee5ng Load Balancer, ch\u00fang ta c\u00f3 th\u1ec3 d\u1ec5 d\u00e0ng th\u00eam b\u1edbt s\u1ed1 l\u01b0\u1ee3ng trong h\u1ec7 th\u1ed1ng.","title":"Load Balancer l\u00e0 g\u00ec"},{"location":"web/nginx/#content-cache","text":"Content Cache hay b\u1ed9 nh\u1edb \u0111\u1ec7m n\u1ed9i dung \u0111\u01b0\u1ee3c d\u00f9ng \u0111\u1ec3 l\u01b0u tr\u1eef t\u1ea1m th\u1eddi nh\u1eefng n\u1ed9i dung \u0111\u00e3 \u0111\u01b0\u1ee3c l\u1ea5y t\u1eeb server, nh\u1eb1m tr\u00e1nh vi\u1ec7c ph\u1ea3i t\u1ea3i l\u1ea1i nh\u1eefng n\u1ed9i dung \u0111\u00f3 m\u1ed7i khi c\u00f3 y\u00eau c\u1ea7u. M\u1ee5c ti\u00eau c\u1ee7a Cache nh\u1eb1m t\u0103ng t\u1ed1c \u0111\u1ed9 truy c\u1eadp, v\u00e0 gi\u1ea3m t\u1ea3i cho c\u00e1c server.","title":"Content Cache"},{"location":"web/nginx/#tcpudp-proxy-server","text":"TCP/UDP Proxy l\u00e0 proxy server trung gian gi\u1eefa client v\u00e0 server \u0111\u00edch. Server n\u00e0y x\u1eed l\u00fd c\u00e1c k\u1ebft n\u1ed1i TCP v\u00e0 UDP.","title":"TCP/UDP Proxy Server"},{"location":"web/nginx/#mail-proxy-server","text":"Mail Proxy Server l\u00e0 m\u1ed9t lo\u1ea1i proxy server d\u00f9ng \u0111\u1ec3 qu\u1ea3n l\u00fd v\u00e0 chuy\u1ec3n ti\u1ebfp mail gi\u1eefa server g\u1eedi v\u00e0 server nh\u1eadn th\u00f4ng qua c\u00e1c protocol SMTP, IMAP, POP3.","title":"Mail Proxy Server"},{"location":"web/nginx/#nginx-la-gi","text":"nginx (hay engine x) l\u00e0 m\u1ed9t m\u00e3 ngu\u1ed3n m\u1edf, \u0111\u01b0\u1ee3c s\u1eed d\u1ee5ng nh\u01b0 m\u1ed9t HTTP web server. Ngo\u00e0i ra n\u00f3 c\u0169ng c\u00f3 th\u1ec3 d\u00f9ng nh\u01b0 Reverse Proxy, Load Balancer, Content Cache, TCP/UDP Proxy Server hay Mail Proxy Server gi\u00fap t\u1ed1i \u01b0u ho\u00e1 hi\u1ec7u n\u0103ng c\u1ee7a \u1ee9ng d\u1ee5ng. N\u1ebfu b\u1ea1n n\u1eafm v\u1eefng nh\u1eefng kh\u00e1i ni\u1ec7m k\u1ec3 tr\u00ean, th\u00ec nginx c\u00f3 th\u1ec3 hi\u1ec3u \u0111\u01a1n gi\u1ea3n l\u00e0 n\u00f3 s\u1ebd th\u1ef1c hi\u1ec7n \u0111\u01b0\u1ee3c h\u1ebft nh\u1eefng t\u00ednh n\u0103ng \u0111\u00f3.","title":"nginx l\u00e0 g\u00ec?"},{"location":"web/nginx/#mot-so-cach-cai-at-cau-hinh-nginx-co-ban","text":"V\u00ec m\u00ecnh d\u00f9ng m\u00e1y mac n\u00ean nh\u1eefng c\u00e0i \u0111\u1eb7t d\u01b0\u1edbi \u0111\u00e2y s\u1ebd d\u1ef1a tr\u00ean m\u00f4i tr\u01b0\u1eddng c\u1ee7a mac. Ki\u1ec3m tra t\u1ec7p (file) c\u00e0i \u0111\u1eb7t c\u1ea5u h\u00ecnh: % sudo nginx -t nginx: the configuration file /opt/homebrew/etc/nginx/nginx.conf syntax is ok nginx: configuration file /opt/homebrew/etc/nginx/nginx.conf test is successful $ sudo nano /opt/homebrew/etc/nginx/nginx.conf","title":"M\u1ed9t s\u1ed1 c\u00e1ch c\u00e0i \u0111\u1eb7t c\u1ea5u h\u00ecnh nginx c\u01a1 b\u1ea3n"},{"location":"web/nginx/#cau-hinh-mau","text":"Ch\u00fang ta s\u1ebd t\u00ecm hi\u1ec3u v\u1ec1 c\u1ea5u tr\u00fac c\u1ee7a t\u1ec7p c\u00e0i \u0111\u1eb7t c\u1ea5u h\u00ecnh qua c\u1ea5u h\u00ecnh m\u1eabu d\u01b0\u1edbi d\u00e2y. user nobody; # a directive in the 'main' context # C\u1ea5u h\u00ecnh s\u1ef1 ki\u1ec7n events { # configuration of connection processing } # C\u1ea5u h\u00ecnh HTTP http { # Configuration specific to HTTP and affecting all virtual servers server { # configuration of HTTP virtual server 1 location /one { # configuration for processing URIs starting with '/one' } location /two { # configuration for processing URIs starting with '/two' } } server { # configuration of HTTP virtual server 2 } } stream { # Configuration specific to TCP/UDP and affecting all virtual servers server { # configuration of TCP virtual server 1 } } nginx bao g\u1ed3m nhi\u1ec1u modules \u0111\u01b0\u1ee3c \u0111i\u1ec1u khi\u1ec3n b\u1edfi nh\u1eefng directives \u0111\u01b0\u1ee3c \u0111\u1ecbnh ngh\u0129a trong t\u1ec7p config (v\u00ed d\u1ee5: /opt/homebrew/etc/nginx/nginx.conf). Nh\u1eefng directives n\u00e0y \u0111\u01b0\u1ee3c chia ra l\u00e0m hai lo\u1ea1i: simple directive v\u00e0 block directive. \u1ede trong c\u1ea5u h\u00ecnh m\u1eabu, user nobody; l\u00e0 m\u1ed9t simple directive. Nh\u01b0 th\u1ebf ta c\u00f3 th\u1ec3 simple directive s\u1ebd bao g\u1ed3m t\u00ean user , bi\u1ebfn nobody v\u00e0 d\u1ea5u ch\u1ea5m ph\u1ea9y ; k\u1ebft th\u00fac directive. C\u00f2n v\u1edbi block directive, thay v\u00ec k\u1ebft th\u00fac v\u1edbi d\u1ea5u ch\u1ea5m ph\u1ea9y ; , n\u00f3 s\u1eed d\u1ee5ng {} v\u00e0 khai b\u00e1o c\u00e0i \u0111\u1eb7t \u1edf b\u00ean trong. V\u00ed d\u1ee5 v\u1ec1 block directive l\u00e0 events {...} . N\u1ebfu m\u1ed9t block directive c\u00f3 ch\u1ee9a nhi\u1ec1u block directive kh\u00e1c th\u00ec n\u00f3 \u0111\u01b0\u1ee3c g\u1ecdi l\u00e0 context . http{...} v\u00e0 stream {...} l\u00e0 nh\u1eefng context. Ngo\u00e0i ra n\u1ebfu m\u1ed9t directive kh\u00f4ng n\u1eb1m trong m\u1ed9t block directive n\u00e0o \u0111\u00f3, n\u00f3 s\u1ebd \u0111\u01b0\u1ee3c coi l\u00e0 n\u1eb1m trong main context . http {...} , server {...} v\u00e0 location {...} l\u00e0 nh\u1eefng core directive c\u1ee7a nginx. http {...} \u0111\u01b0\u1ee3c d\u00f9ng \u0111\u1ec3 c\u00e0i \u0111\u1eb7t c\u1ea5u h\u00ecnh c\u1ee7a HTTP server. C\u00f2n c\u1ea5u h\u00ecnh c\u1ee7a server \u1ea3o (virtual server) \u0111\u01b0\u1ee3c c\u00e0i \u0111\u1eb7t \u1edf server {...} . location {} s\u1ebd ch\u1ee9a nh\u1eefng c\u1ea5u h\u00ecnh ph\u1ee5 thu\u1ed9c v\u00e0o URI c\u1ee7a y\u00eau c\u1ea7u (request URI).","title":"C\u1ea5u h\u00ecnh m\u1eabu"},{"location":"web/nginx/#cung-cap-noi-dung-tinh-static-content","text":"\u1ede \u0111\u00e2y m\u00ecnh s\u1ebd th\u1eed c\u00e0i \u0111\u1eb7t c\u1ea5u h\u00ecnh cho ph\u00e9p server c\u00f3 th\u1ec3 cung c\u1ea5p nh\u1eefng n\u1ed9i dung t\u0129nh. T\u1ea1o file v\u00e0 folder: # T\u1ea1o folder \u0111\u1ec3 l\u01b0u file t\u0129nh nh\u01b0 html $ mkdir var/www $ mkdir var/www/test # T\u1ea1o file html $ touch var/www/test/index.html # T\u1ea1o folder \u0111\u1ec3 l\u01b0u \u1ea3nh $ mkdir var/images # Th\u00eam file var/images/example.jpg L\u00fac n\u00e0y ta c\u00f3 2 folders c\u00f3 ch\u1eefa nh\u1eefng n\u1ed9i dung t\u0129nh trong v\u00ed d\u1ee5 n\u00e0y l\u00e0 m\u1ed9t file html v\u00e0 m\u1ed9t file \u1ea3nh. Ti\u1ebfp theo, ch\u00fang ta s\u1ebd th\u1eed c\u00e0i \u0111\u1eb7t hai context location {...} nh\u01b0 d\u01b0\u1edbi \u0111\u00e2y. http { server { location / { root /var/www; } location /images/ { root /var; } } } V\u1edbi c\u1ea5u h\u00ecnh c\u00e0i \u0111\u1eb7t n\u00e0y, v\u00ec m\u00ecnh kh\u00f4ng c\u00e0i \u0111\u1eb7t port n\u00ean m\u1eb7c \u0111\u1ecbnh server s\u1ebd nh\u1eadn th\u00f4ng tin t\u1eeb port 80. Khi c\u00f3 y\u00eau c\u1ea7u (request) g\u1eedi \u0111\u1ebfn server m\u00e0 URI c\u1ee7a n\u00f3 b\u1eaft \u0111\u1ea7u v\u1edbi /images/ , server s\u1ebd g\u1eedi nh\u1eefng file n\u1eb1m trong th\u01b0 m\u1ee5c /var/images . V\u00ed d\u1ee5 khi ng\u01b0\u1eddi d\u00f9ng truy c\u1eadp http://localhost/images/example.jpg , server s\u1ebd tr\u1ea3 t\u1ec7p \u1ea3nh var/images/example.jpg . V\u1edbi nh\u1eefng y\u00eau c\u1ea7u c\u00f3 URI kh\u00f4ng b\u1eaft \u0111\u1ea7u v\u1edbi /images/ , server s\u1ebd t\u1ef1 \u0111\u1ed9ng g\u1eedi nh\u1eefng t\u1ec7p t\u1eeb th\u01b0 m\u1ee5c var/www . V\u00ed d\u1ee5 khi truy c\u1eadp http://localhost/test/index.html , server s\u1ebd tr\u1ea3 l\u1ea1i t\u1ec7p var/www/test/index.html . Trong tr\u01b0\u1eddng h\u1ee3p server kh\u00f4ng th\u1ec3 t\u00ecm \u0111\u01b0\u1ee3c file t\u01b0\u01a1ng \u1ee9ng, n\u00f3 s\u1ebd ph\u1ea3n h\u1ed3i l\u1ea1i v\u1edbi l\u1ed7i 404. Tr\u00ean \u0111\u00e2y l\u00e0 v\u00ed d\u1ee5 v\u1ec1 c\u00e1ch c\u00e0i \u0111\u1eb7t cho ph\u00e9p server c\u00f3 th\u1ec3 cung c\u1ea5p \u0111\u01b0\u1ee3c nh\u1eefng n\u1ed9i dung t\u0129nh \u0111\u1ebfn client. \u0110\u1ec3 kh\u1edfi \u0111\u1ed9ng l\u1ea1i c\u1ea5u h\u00ecnh, ch\u00fang ta c\u00f3 th\u1ec3 s\u1eed d\u1ee5ng c\u00e2u l\u1ec7nh d\u01b0\u1edbi \u0111\u00e2y. $ nginx -s reload","title":"Cung c\u1ea5p n\u1ed9i dung t\u0129nh (static content)"},{"location":"web/nginx/#cai-at-cau-hinh-proxy","text":"Ph\u1ea7n n\u00e0y, m\u00ecnh s\u1ebd t\u00ecm hi\u1ec3u v\u1ec1 c\u00e1ch c\u00e0i \u0111\u1eb7t m\u1ed9t proxy server \u0111\u01a1n gi\u1ea3n. \u0110\u1ea7u ti\u00ean ch\u00fang ta s\u1ebd th\u00eam m\u1ed9t server \u1ea3o v\u00e0o c\u1ea5u h\u00ecnh \u1edf v\u00ed d\u1ee5 tr\u00ean. http { server { location / { root /var/www; } location /images/ { root /var; } } # Th\u00eam c\u1ea5u h\u00ecnh server m\u1edbi server { listen 8080; root /var/up1; location / { } } } Server \u0111\u01b0\u1ee3c th\u00eam m\u1edbi n\u00e0y s\u1ebd nh\u1eadn \u0111\u01b0\u1ee3c nh\u1eefng y\u00eau c\u1ea7u g\u1eedi \u0111\u1ebfn port 8080, v\u00e0 s\u1ebd t\u00ecm nh\u1eefng d\u1eef li\u1ec7u n\u1eb1m trong th\u01b0 m\u1ee5c var/up1 . V\u00ec server ch\u01b0a c\u00f3 th\u01b0 m\u1ee5c n\u00e0y, ta c\u00f3 th\u1ec3 t\u1ea1o th\u01b0 m\u1ee5c v\u00e0 th\u00eam file v\u1edbi nh\u1eefng c\u00e2u l\u1ec7nh sau: $ mkdir var/up1 $ touch var/up1/index.html Ti\u1ebfp theo ch\u00fang ta s\u1eed d\u1ee5ng proxy_pass v\u00e0 ch\u1ec9nh s\u1eeda location / {...} \u1edf m\u1ee5c tr\u01b0\u1edbc. http { server { location / { proxy_pass http://localhost:8080; } location /images/ { root /var; } } # Th\u00eam c\u1ea5u h\u00ecnh server m\u1edbi server { listen 8080; root /var/up1; location / { } } } L\u00fac n\u00e0y, n\u1ebfu ch\u00fang ta g\u1eedi y\u00eau c\u1ea7u (request) \u0111\u1ebfn \u0111\u1ecba ch\u1ec9 http://localhost v\u00e0 URI kh\u00f4ng b\u1eaft \u0111\u1ea7u v\u1edbi /images/ , nh\u1eefng y\u00eau c\u1ea7u n\u00e0y s\u1ebd \u0111\u01b0\u1ee3c g\u1eedi qua proxy server.","title":"C\u00e0i \u0111\u1eb7t c\u1ea5u h\u00ecnh Proxy"},{"location":"web/nginx/#cai-at-cau-hinh-load-balancer","text":"Ch\u00fang ta s\u1ebd qua m\u1ed9t v\u00ed d\u1ee5 kh\u00e1c v\u1ec1 c\u00e1ch c\u00e0i \u0111\u1eb7t c\u1ea5u h\u00ecnh c\u00e2n b\u1eb1ng t\u1ea3i - Load Balancer. M\u00ecnh c\u00f3 c\u1ea5u h\u00ecnh \u0111\u01b0\u1ee3c c\u00e0i \u0111\u1eb7t nh\u01b0 sau: http { upstream backend { server backend1.example.com; server backend2.example.com; server 192.0.0.1 backup; } server { location / { proxy_pass http://backend; } } } \u1ede \u0111\u00e2y, c\u1ea7u h\u00ecnh n\u00e0y c\u00f3 s\u1eed d\u1ee5ng proxy_pass cho ph\u00e9p server chuy\u1ec3n t\u1ea5t c\u1ea3 nh\u1eefng y\u00eau c\u1ea7u \u0111\u1ebfn group server c\u00f3 t\u00ean l\u00e0 backend (t\u00ean n\u00e0y th\u00ec \u0111\u1eb7t th\u1ebf n\u00e0o c\u0169ng \u0111\u01b0\u1ee3c). Group n\u00e0y c\u00f3 ch\u1ee9a ba server l\u00e0 backend1.example.com , backend2.example.com v\u00e0 192.0.0.1 . V\u00ec c\u1ea5u h\u00ecnh n\u00e0y kh\u00f4ng ch\u1ec9 r\u00f5 thu\u1eadt to\u00e1n n\u00e0o \u0111\u01b0\u1ee3c s\u1eed d\u1ee5ng \u0111\u1ec3 d\u00f9ng cho vi\u1ec7c qu\u1ea3n l\u00fd l\u01b0u l\u01b0\u1ee3ng truy c\u1eadp, n\u00ean server s\u1ebd s\u1eed d\u1ee5ng thu\u1eadt to\u00e1n m\u1eb7c \u0111\u1ecbnh l\u00e0 Round Robin . C\u00f3 m\u1ed9t l\u01b0u \u00fd, tuy m\u00ecnh c\u00f3 3 server trong group, nh\u01b0 server 192.0.0.1 \u0111\u01b0\u1ee3c c\u00e0i \u0111\u1eb7t l\u00e0 backup n\u00ean n\u00f3 ch\u1ec9 ho\u1ea1t \u0111\u1ed9ng khi hai server c\u00f2n l\u1ea1i kh\u00f4ng th\u1ec3 ho\u1ea1t \u0111\u1ed9ng. Ti\u1ebfp theo ch\u00fang ta s\u1ebd th\u1eed c\u00e0i \u0111\u1eb7t th\u00eam weight nh\u01b0 sau: http { upstream backend { server backend1.example.com weight=5; server backend2.example.com; server 192.0.0.1 backup; } server { location / { proxy_pass http://backend; } } } L\u00fac n\u00e0y c\u1ee9 6 y\u00eau c\u1ea7u \u0111\u01b0\u1ee3c g\u1eedi \u0111\u1ebfn server, th\u00ec 5 trong s\u1ed1 \u0111\u00f3 s\u1ebd \u0111\u01b0\u1ee3c g\u1eedi \u0111\u1ebfn backend1.example.com v\u00e0 1 y\u00eau c\u1ea7u s\u1ebd \u0111\u1ebfn backend2.example.com . Tr\u00ean \u0111\u00e2y l\u00e0 v\u00ed d\u1ee5 v\u1ec1 m\u1ed9t c\u00e2n b\u1eb1ng t\u1ea3i \u0111\u01a1n gi\u1ea3n. B\u1ea1n c\u00f3 th\u1ec3 xem th\u00eam nh\u1eefng c\u00e1ch c\u00e0i \u0111\u1eb7t kh\u00e1c \u1edf \u0111\u00e2y .","title":"C\u00e0i \u0111\u1eb7t c\u1ea5u h\u00ecnh Load Balancer"},{"location":"web/nginx/#tong-ket","text":"Trong b\u00e0i n\u00e0y ch\u00fang ta \u0111\u00e3 t\u00ecm hi\u1ec3u v\u1ec1 nh\u1eefng kh\u00e1i ni\u1ec7m c\u01a1 b\u1ea3n c\u1ee7a ngix c\u00f9ng nh\u1eefng kh\u00e1i ni\u1ec7m li\u00ean quan kh\u00e1c. Ngo\u00e0i ra th\u00ec m\u00ecnh c\u0169ng c\u00f3 th\u00eam nh\u1eefng v\u00ed d\u1ee5 v\u1ec1 m\u1ed9t s\u1ed1 c\u00e1ch c\u00e0i \u0111\u1eb7t c\u1ea5u h\u00ecnh \u0111\u01a1n gi\u1ea3n. Hy v\u1ecdng n\u00f3 c\u00f3 th\u1ec3 gi\u00fap \u00edch cho ch\u00ednh b\u1ea3n th\u00e2n m\u00ecnh, hay ai \u0111\u00f3 \u0111\u1ecdc \u0111\u01b0\u1ee3c b\u00e0i vi\u1ebft n\u00e0y khi s\u1eed d\u1ee5ng nginx.","title":"T\u1ed5ng k\u1ebft"},{"location":"web/nginx/#tai-lieu-tham-khao","text":"Beginner\u2019s Guide Creating NGINX Plus and NGINX Configuration Files Load Balancer","title":"T\u00e0i li\u1ec7u tham kh\u1ea3o"},{"location":"web/ssr-and-csr/","text":"Client Side Rendering (CSR) Client Side Rendering (CSR) l\u00e0 m\u1ed9t ph\u01b0\u01a1ng ph\u00e1p m\u1eb7c \u0111\u1ecbnh tr\u00ecnh duy\u1ec7t s\u1eed d\u1ee5ng \u0111\u1ec3 hi\u1ec3n th\u1ecb trang web. \u0110\u1ed1i v\u1edbi CSR, khi ng\u01b0\u1eddi s\u1eed d\u1ee5ng truy c\u1eadp v\u00e0o m\u1ed9t trang web, tr\u00ecnh duy\u1ec7t c\u1ea9n t\u1ea3i h\u1ebft c\u00e1c t\u1ec7p HTML v\u00e0 JavaScript c\u1ea7n thi\u1ebft. T\u1ec7p JavaScript sau \u0111\u00f3 \u0111\u01b0\u1ee3c d\u00f9ng \u0111\u1ec3 thay \u0111\u1ed5i DOM (Document Object Model) v\u00e0 hi\u1ec3n th\u1ecb n\u1ed9i dung c\u1ee7a web. Ch\u00fang ta c\u00f3 th\u1ec3 tham kh\u1ea3o qu\u00e1 tr\u00ecnh hi\u1ec3n th\u1ecb trang web theo CSR c\u1ee7a React nh\u01b0 h\u00ecnh d\u01b0\u1edbi \u0111\u00e2y. Qu\u00e1 tr\u00ecnh n\u00e0y bao g\u1ed3m c\u00e1c b\u01b0\u1edbc: Server g\u1eedi c\u00e1c t\u1ec7p c\u1ea7n thi\u1ebft nh\u01b0 HTML, CSS, v\u00e0 JavaScript \u0111\u1ebfn tr\u00ecnh duy\u1ec7t. Sau khi c\u00f3 t\u1ec7p JavaScript, tr\u00ecnh duy\u1ec7t th\u1ef1c thi JavaScript code \u0111\u1ec3 \"k\u1ebft xu\u1ea5t\" (render) ra HTML file. Khi code \u0111\u01b0\u1ee3c th\u1ef1c thi th\u00e0nh c\u00f4ng tr\u00ecnh duy\u1ec7t s\u1ebd s\u1eed d\u1ee5ng n\u1ed9i dung \u0111\u00e3 k\u1ebft xu\u1ea5t, l\u00fac n\u00e0y ng\u01b0\u1eddi d\u00f9ng c\u00f3 th\u1ec3 xem v\u00e0 t\u01b0\u01a1ng t\u00e1c v\u1edbi trang. Client Side Rendering ( ReactPWA ) T\u1eeb nh\u1eefng b\u01b0\u1edbc tr\u00ean m\u00ecnh c\u00f3 th\u1ec3 th\u1ea5y, khi hi\u1ec3n th\u1ecb trang web v\u1edbi CSR, tr\u00ecnh duy\u1ec7t c\u1ea7n t\u1ea3i to\u00e0n b\u1ed9 code v\u00e0 th\u1ef1c thi tr\u01b0\u1edbc khi c\u00f3 th\u1ec3 hi\u1ec3n th\u1ecb n\u1ed9i dung. \u0110i\u1ec1u n\u00e0y d\u1eabn t\u1edbi vi\u1ec7c ng\u01b0\u1eddi d\u00f9ng c\u1ea7n \u0111\u1ee3i m\u1ed9t kho\u1ea3ng th\u1eddi gian cho \u0111\u1ebfn khi c\u00f3 th\u1ec3 xem v\u00e0 t\u01b0\u01a1ng t\u00e1c v\u1edbi trang web \u0111\u00f3. \u0110\u00e2y c\u00f3 th\u1ec3 coi l\u00e0 m\u1ed9t \u0111i\u1ec3m tr\u1eeb v\u1ec1 tr\u1ea3i nghi\u1ec7m c\u1ee7a ng\u01b0\u1eddi d\u00f9ng. Tuy nhi\u00ean sau l\u1ea7n t\u1ea3i \u0111\u1ea7u ti\u00ean, t\u1ed1c \u0111\u1ed9 c\u1ee7a trang web s\u1ebd tr\u1edf n\u00ean nhanh h\u01a1n. Do l\u00fac n\u00e0y, ch\u00fang ta ch\u1ec9 c\u1ea7n t\u1ea3i th\u00eam nh\u1eefng d\u1eef li\u1ec7u c\u1ea7n thi\u1ebft m\u00e0 kh\u00f4ng c\u1ea7n t\u1ea3i l\u1ea1i to\u00e0n b\u1ed9 trang. \u0110\u00e2y l\u1ea1i l\u00e0 m\u1ed9t \u01b0u \u0111i\u1ec3m c\u1ee7a ph\u01b0\u01a1ng ph\u00e1p CSR. Server Side Rendering (SSR) Server Side Rendering (SSR) l\u00e0 m\u1ed9t ph\u01b0\u01a1ng th\u1ee9c hi\u1ec3n th\u1ecb trong \u0111\u00f3 ph\u00eda server s\u1ebd \"k\u1ebft xu\u1ea5t\" (render) t\u1ec7p HTML tr\u01b0\u1edbc khi g\u1eedi \u0111\u1ebfn tr\u00ecnh duy\u1ec7t. Ch\u00fang ta s\u1ebd tham kh\u1ea3o c\u00e1c b\u01b0\u1edbc nh\u01b0 h\u00ecnh d\u01b0\u1edbi \u0111\u00e2y. Server \"k\u1ebft xu\u1ea5t\" (render) t\u1ec7p HTML v\u00e0 g\u1eedi d\u1ebfn tr\u00ecnh duy\u1ec7t. V\u00ec t\u1ec7p HTML \u0111\u00e3 \u0111\u01b0\u1ee3c k\u1ebft xu\u1ea5t n\u00ean khi nh\u1eadn \u0111\u01b0\u1ee3c tr\u00ecnh duy\u1ec7t c\u00f3 th\u1ec3 hi\u1ec3n th\u1ecb n\u1ed9i dung c\u1ee7a trang web. (L\u01b0u \u00fd: trang web l\u00fac n\u00e0y ch\u01b0a ph\u1ea3n h\u1ed3i \u0111\u01b0\u1ee3c v\u1edbi t\u01b0\u01a1ng t\u00e1c t\u1eeb ng\u01b0\u1eddi d\u00f9ng) Tr\u00ecnh duy\u1ec7t t\u1ea3i t\u1ec7p JavaScript v\u00e0 th\u1ef1c thi. Sau khi JavaScript \u0111\u01b0\u1ee3c th\u1ef1c thi th\u00e0nh c\u00f4ng, ng\u01b0\u1eddi d\u00f9ng c\u00f3 th\u1ec3 t\u01b0\u01a1ng t\u00e1c v\u1edbi trang web. Server Side Rendering ( ReactPWA ) M\u00ecnh c\u00f3 th\u1ec3 th\u1ea5y SSR cho ph\u00e9p n\u1ed9i dung c\u00f9a trang web \u0111\u01b0\u1ee3c hi\u1ec3n th\u1ecb s\u1edbm h\u01a1n so v\u1edbi CSR. \u0110i\u1ec1u n\u00e0y c\u00f3 th\u1ec3 coi l\u00e0 m\u1ed9t \u0111i\u1ec3m c\u1ed9ng v\u1ec1 tr\u1ea3i nghi\u1ec7m ng\u01b0\u1eddi d\u00f9ng. Ngo\u00e0i ra, v\u00ec n\u1ed9i dung HTML c\u1ee7a trang web \u0111\u00e3 \u0111\u01b0\u1ee3c render s\u1eb5n v\u00e0 g\u1eedi \u0111\u1ebfn tr\u00ecnh duy\u1ec7t, n\u00ean c\u00e1c c\u00f4ng c\u1ee5 t\u00ecm ki\u1ebfm (search engines) c\u00f3 th\u1ec3 d\u1ec5 d\u00e0ng thu th\u1eadp d\u1eef li\u1ec7u v\u00e0 \u0111\u00e1nh gi\u00e1. \u0110i\u1ec1u n\u00e0y gi\u00fap \u0111i\u1ec3m SEO c\u1ee7a trang web \u0111\u01b0\u1ee3c c\u1ea3i thi\u1ec7n t\u1ed1t h\u01a1n. So s\u00e1nh CSR v\u00e0 SSR \u1ede tr\u00ean, ch\u00fang ta \u0111\u00e3 \u0111\u1ec1 c\u1eadp \u0111\u1ebfn kh\u00e1i ni\u1ec7m c\u01a1 b\u1ea3n c\u1ee7a CSR v\u00e0 SSR, ph\u1ea7n n\u00e0y ch\u00fang ta s\u1ebd th\u1ea3o lu\u1eadn v\u1ec1 nh\u1eefng \u01b0u \u0111i\u1ec3m v\u00e0 nh\u01b0\u1ee3c \u0111i\u1ec3m c\u1ee7a hai ph\u01b0\u01a1ng th\u1ee9c k\u1ec3 tr\u00ean. T\u1eeb \u0111\u00f3 ta c\u00f3 th\u1ec3 c\u00f3 nh\u1eefng ti\u00eau ch\u00ed l\u1ef1a ch\u1ecdn ph\u01b0\u01a1ng th\u1ee9c ph\u00f9 h\u1ee3p cho \u1ee9ng d\u1ee5ng c\u1ee7a m\u00ecnh. M\u00ecnh s\u1ebd so s\u00e1nh hai ph\u01b0\u01a1ng th\u1ee9c d\u1ef1a tr\u00ean nh\u1eefng y\u1ebfu t\u1ed1 sau: SEO Tr\u1ea3i nghi\u1ec7m ng\u01b0\u1eddi d\u00f9ng Chi ph\u00ed ph\u00e1t tri\u1ec3n v\u00e0 v\u1eadn h\u00e0nh SEO SEO (Search Engine Optimization - T\u1ed1i \u01b0u ho\u00e1 c\u00f4ng c\u1ee5 t\u00ecm ki\u1ebfm), l\u00e0 qu\u00e1 tr\u00ecnh ch\u00fang ta t\u1ed1i \u01b0u ho\u00e1 trang web \u0111\u1ec3 c\u1ea3i thi\u1ec7n th\u1ee9 h\u1ea1ng c\u1ee7a n\u00f3 tr\u00ean c\u00e1c c\u00f4ng c\u1ee5 t\u00ecm ki\u1ebfm. M\u1ed9t trang web c\u00f3 SEO t\u1ed1t, s\u1ebd d\u1ec5 d\u00e0ng ti\u1ebfp c\u1eadn b\u1edfi ng\u01b0\u1eddi d\u00f9ng h\u01a1n. V\u00ec th\u1ebf \u0111\u00e2y c\u0169ng l\u00e0 m\u1ed9t y\u1ebfu t\u1ed1 quan tr\u1ecdng c\u1ea7n xem x\u00e9t khi m\u00ecnh mu\u1ed1n x\u00e2y d\u1ef1ng m\u1ed9t trang web c\u00f3 nhi\u1ec1u l\u01b0\u1ee3ng truy c\u1eadp. Quay v\u1ec1 hai ph\u01b0\u01a1ng th\u1ee9c k\u1ec3 tr\u00ean, v\u1edbi CSR n\u1ed9i dung c\u1ee7a trang web ch\u1ec9 \u0111\u01b0\u1ee3c hi\u1ec3n th\u1ecb sau khi th\u1ef1c thi JavaScript. Trong th\u1eddi gian \u0111\u1ee3i cho JavaScript th\u1ef1c thi th\u00e0nh c\u00f4ng, n\u1ed9i dung c\u1ee7a trang s\u1ebd tr\u1ed1ng, d\u1eabn \u0111\u1ebfn vi\u1ec7c c\u00e1c c\u00f4ng c\u1ee5 t\u00ecm ki\u1ebfm kh\u00f4ng thu th\u1eadp \u0111\u1ee7 nh\u1eefng n\u1ed9i dung c\u1ea7n thi\u1ebft. \u0110i\u1ec1u n\u00e0y l\u00e0m cho SEO c\u1ee7a trang web s\u1ebd k\u00e9m \u0111i. M\u1ed9t s\u1ed1 gi\u1ea3i ph\u00e1p l\u00e0 pre-rendering ho\u1eb7c hydration. Tuy nhi\u00ean n\u1ebfu t\u1ec7p JavaScript c\u1ee7a b\u1ea1n nh\u1ecf th\u00ec c\u00f3 th\u1ec3 kh\u00f4ng c\u1ea7n quan t\u00e2m \u0111\u1ebfn v\u1ea5n \u0111\u1ec1 n\u00e0y. Trong khi \u0111\u00f3, SSR cung c\u1ea5p n\u1ed9i dung \u0111\u00e3 k\u1ebft xu\u1ea5t \u0111\u1ea7y \u0111\u1ee7 cho tr\u00ecnh duy\u1ec7t, \u0111\u00e3 s\u1eb5n s\u00e0ng cung c\u1ea5p cho c\u00e1c c\u00f4ng c\u1ee5 t\u00ecm ki\u1ebfm. V\u00ec th\u1ebf nh\u1eefng trang web s\u1eed d\u1ee5ng SSR s\u1ebd c\u00f3 SEO t\u1ed1t h\u01a1n. Tr\u1ea3i nghi\u1ec7m ng\u01b0\u1eddi d\u00f9ng V\u1edbi CSR, \u1edf l\u1ea7n t\u1ea3i \u0111\u1ea7u ti\u00ean, tr\u00ecnh duy\u1ec7t m\u1ea5t nhi\u1ec1u th\u1eddi gian \u0111\u1ec3 hi\u1ec3n th\u1ecb n\u1ed9i dung c\u1ee7a trang web n\u1ebfu t\u1ec7p JavaScript l\u1edbn. Tuy nhi\u00ean sau khi t\u1ea3i xong, t\u1ed1c \u0111\u1ed9 c\u1ee7a trang web s\u1ebd tr\u1edf n\u00ean nhanh h\u01a1n, khi\u1ebfn t\u01b0\u01a1ng t\u00e1c c\u1ee7a ng\u01b0\u1eddi s\u1eed d\u1ee5ng tr\u1edf n\u00ean m\u01b0\u1ee3t m\u00e0 h\u01a1n. Ng\u01b0\u1ee3c l\u1ea1i, SSR cho ph\u00e9p hi\u1ec3n th\u1ecb n\u1ed9i dung l\u1ea7n \u0111\u1ea7u ti\u00ean s\u1edbm h\u01a1n, nh\u01b0ng t\u01b0\u01a1ng t\u00e1c s\u1ebd kh\u00f4ng m\u01b0\u1ee3t khi so s\u00e1nh v\u1edbi CSR. Do \u0111\u00f3 m\u00ecnh th\u1ea5y c\u0169ng kh\u00e1 kh\u00f3 \u0111\u1ec3 \u0111\u00e1nh gi\u00e1 ph\u01b0\u01a1ng ph\u00e1p n\u00e0o cung c\u1ea5p tr\u1ea3i nghi\u1ec7m t\u1ed1t h\u01a1n cho ng\u01b0\u1eddi d\u00f9ng. \u0110i\u1ec1u n\u00e0y c\u00f3 th\u1ec3 ph\u1ee5 thu\u1ed9c v\u00e0o nghi\u1ec7p v\u1ee5, hay t\u00ednh ch\u1ea5t c\u1ee7a t\u1eebng trang web. N\u1ebfu trang web c\u1ee7a m\u00ecnh c\u00f3 nhi\u1ec1u t\u01b0\u01a1ng t\u00e1c \u0111\u1ed9ng, CSR c\u00f3 th\u1ec3 l\u00e0 l\u1ef1a ch\u1ecdn ph\u00f9 h\u1ee3p h\u01a1n. N\u1ebfu mu\u1ed1n n\u1ed9i dung trang web mu\u1ed1n hi\u1ec3n th\u1ecb \u0111\u1ebfn ng\u01b0\u1eddi d\u00f9ng s\u1edbm h\u01a1n, m\u00ecnh c\u00f3 th\u1ec3 d\u00f9ng SSR. Chi ph\u00ed ph\u00e1t tri\u1ec3n v\u00e0 v\u1eadn h\u00e0nh Khi d\u00f9ng CSR, vi\u1ec7c x\u1eed l\u00fd k\u1ebft xu\u1ea5t n\u1ed9i dung c\u1ee7a trang \u0111\u01b0\u1ee3c \u0111\u1ea9y v\u1ec1 ph\u00eda client n\u00ean kh\u00f4ng ti\u00eau t\u1ed1n nhi\u1ec1u t\u00e0i nguy\u00ean c\u1ee7a server. Trong khi \u0111\u00f3 v\u1edbi SSR, vi\u1ec7c x\u1eed l\u00fd \u0111\u00f3 \u0111\u01b0\u1ee3c th\u1ef1c hi\u1ec7n ph\u00eda server, v\u00ec th\u1ebf ch\u00fang ta c\u1ea7n ph\u1ea3i t\u1ed1i \u01b0u n\u00f3. \u0110i\u1ec1u n\u00e0y c\u00f3 th\u1ec3 d\u1eabn \u0111\u1ebfn chi ph\u00ed cho ph\u00e1t tri\u1ec3n v\u00e0 v\u1eadn h\u00e0nh SSR s\u1ebd cao h\u01a1n so v\u1edbi CSR. T\u1eeb \u0111\u00f3 ta c\u00f3 th\u1ec3 th\u1ea5y, n\u1ebfu m\u00ecnh kh\u00f4ng c\u00f3 \u0111\u1ee7 t\u00e0i nguy\u00ean ph\u00eda server th\u00ec n\u00ean ch\u1ecdn CSR thay v\u00ec SSR. N\u1ebfu t\u00e0i nguy\u00ean server kh\u00f4ng ph\u1ea3i l\u00e0 v\u1ea5n \u0111\u1ec1, b\u1ea1n c\u00f3 th\u1ec3 d\u00f9ng SSR. T\u00e0i li\u1ec7u tham kh\u1ea3o Client-side Rendering (CSR) Are Core Web Vitals A Ranking Factor?","title":"SSR v\u00e0 CSR"},{"location":"web/ssr-and-csr/#client-side-rendering-csr","text":"Client Side Rendering (CSR) l\u00e0 m\u1ed9t ph\u01b0\u01a1ng ph\u00e1p m\u1eb7c \u0111\u1ecbnh tr\u00ecnh duy\u1ec7t s\u1eed d\u1ee5ng \u0111\u1ec3 hi\u1ec3n th\u1ecb trang web. \u0110\u1ed1i v\u1edbi CSR, khi ng\u01b0\u1eddi s\u1eed d\u1ee5ng truy c\u1eadp v\u00e0o m\u1ed9t trang web, tr\u00ecnh duy\u1ec7t c\u1ea9n t\u1ea3i h\u1ebft c\u00e1c t\u1ec7p HTML v\u00e0 JavaScript c\u1ea7n thi\u1ebft. T\u1ec7p JavaScript sau \u0111\u00f3 \u0111\u01b0\u1ee3c d\u00f9ng \u0111\u1ec3 thay \u0111\u1ed5i DOM (Document Object Model) v\u00e0 hi\u1ec3n th\u1ecb n\u1ed9i dung c\u1ee7a web. Ch\u00fang ta c\u00f3 th\u1ec3 tham kh\u1ea3o qu\u00e1 tr\u00ecnh hi\u1ec3n th\u1ecb trang web theo CSR c\u1ee7a React nh\u01b0 h\u00ecnh d\u01b0\u1edbi \u0111\u00e2y. Qu\u00e1 tr\u00ecnh n\u00e0y bao g\u1ed3m c\u00e1c b\u01b0\u1edbc: Server g\u1eedi c\u00e1c t\u1ec7p c\u1ea7n thi\u1ebft nh\u01b0 HTML, CSS, v\u00e0 JavaScript \u0111\u1ebfn tr\u00ecnh duy\u1ec7t. Sau khi c\u00f3 t\u1ec7p JavaScript, tr\u00ecnh duy\u1ec7t th\u1ef1c thi JavaScript code \u0111\u1ec3 \"k\u1ebft xu\u1ea5t\" (render) ra HTML file. Khi code \u0111\u01b0\u1ee3c th\u1ef1c thi th\u00e0nh c\u00f4ng tr\u00ecnh duy\u1ec7t s\u1ebd s\u1eed d\u1ee5ng n\u1ed9i dung \u0111\u00e3 k\u1ebft xu\u1ea5t, l\u00fac n\u00e0y ng\u01b0\u1eddi d\u00f9ng c\u00f3 th\u1ec3 xem v\u00e0 t\u01b0\u01a1ng t\u00e1c v\u1edbi trang. Client Side Rendering ( ReactPWA ) T\u1eeb nh\u1eefng b\u01b0\u1edbc tr\u00ean m\u00ecnh c\u00f3 th\u1ec3 th\u1ea5y, khi hi\u1ec3n th\u1ecb trang web v\u1edbi CSR, tr\u00ecnh duy\u1ec7t c\u1ea7n t\u1ea3i to\u00e0n b\u1ed9 code v\u00e0 th\u1ef1c thi tr\u01b0\u1edbc khi c\u00f3 th\u1ec3 hi\u1ec3n th\u1ecb n\u1ed9i dung. \u0110i\u1ec1u n\u00e0y d\u1eabn t\u1edbi vi\u1ec7c ng\u01b0\u1eddi d\u00f9ng c\u1ea7n \u0111\u1ee3i m\u1ed9t kho\u1ea3ng th\u1eddi gian cho \u0111\u1ebfn khi c\u00f3 th\u1ec3 xem v\u00e0 t\u01b0\u01a1ng t\u00e1c v\u1edbi trang web \u0111\u00f3. \u0110\u00e2y c\u00f3 th\u1ec3 coi l\u00e0 m\u1ed9t \u0111i\u1ec3m tr\u1eeb v\u1ec1 tr\u1ea3i nghi\u1ec7m c\u1ee7a ng\u01b0\u1eddi d\u00f9ng. Tuy nhi\u00ean sau l\u1ea7n t\u1ea3i \u0111\u1ea7u ti\u00ean, t\u1ed1c \u0111\u1ed9 c\u1ee7a trang web s\u1ebd tr\u1edf n\u00ean nhanh h\u01a1n. Do l\u00fac n\u00e0y, ch\u00fang ta ch\u1ec9 c\u1ea7n t\u1ea3i th\u00eam nh\u1eefng d\u1eef li\u1ec7u c\u1ea7n thi\u1ebft m\u00e0 kh\u00f4ng c\u1ea7n t\u1ea3i l\u1ea1i to\u00e0n b\u1ed9 trang. \u0110\u00e2y l\u1ea1i l\u00e0 m\u1ed9t \u01b0u \u0111i\u1ec3m c\u1ee7a ph\u01b0\u01a1ng ph\u00e1p CSR.","title":"Client Side Rendering (CSR)"},{"location":"web/ssr-and-csr/#server-side-rendering-ssr","text":"Server Side Rendering (SSR) l\u00e0 m\u1ed9t ph\u01b0\u01a1ng th\u1ee9c hi\u1ec3n th\u1ecb trong \u0111\u00f3 ph\u00eda server s\u1ebd \"k\u1ebft xu\u1ea5t\" (render) t\u1ec7p HTML tr\u01b0\u1edbc khi g\u1eedi \u0111\u1ebfn tr\u00ecnh duy\u1ec7t. Ch\u00fang ta s\u1ebd tham kh\u1ea3o c\u00e1c b\u01b0\u1edbc nh\u01b0 h\u00ecnh d\u01b0\u1edbi \u0111\u00e2y. Server \"k\u1ebft xu\u1ea5t\" (render) t\u1ec7p HTML v\u00e0 g\u1eedi d\u1ebfn tr\u00ecnh duy\u1ec7t. V\u00ec t\u1ec7p HTML \u0111\u00e3 \u0111\u01b0\u1ee3c k\u1ebft xu\u1ea5t n\u00ean khi nh\u1eadn \u0111\u01b0\u1ee3c tr\u00ecnh duy\u1ec7t c\u00f3 th\u1ec3 hi\u1ec3n th\u1ecb n\u1ed9i dung c\u1ee7a trang web. (L\u01b0u \u00fd: trang web l\u00fac n\u00e0y ch\u01b0a ph\u1ea3n h\u1ed3i \u0111\u01b0\u1ee3c v\u1edbi t\u01b0\u01a1ng t\u00e1c t\u1eeb ng\u01b0\u1eddi d\u00f9ng) Tr\u00ecnh duy\u1ec7t t\u1ea3i t\u1ec7p JavaScript v\u00e0 th\u1ef1c thi. Sau khi JavaScript \u0111\u01b0\u1ee3c th\u1ef1c thi th\u00e0nh c\u00f4ng, ng\u01b0\u1eddi d\u00f9ng c\u00f3 th\u1ec3 t\u01b0\u01a1ng t\u00e1c v\u1edbi trang web. Server Side Rendering ( ReactPWA ) M\u00ecnh c\u00f3 th\u1ec3 th\u1ea5y SSR cho ph\u00e9p n\u1ed9i dung c\u00f9a trang web \u0111\u01b0\u1ee3c hi\u1ec3n th\u1ecb s\u1edbm h\u01a1n so v\u1edbi CSR. \u0110i\u1ec1u n\u00e0y c\u00f3 th\u1ec3 coi l\u00e0 m\u1ed9t \u0111i\u1ec3m c\u1ed9ng v\u1ec1 tr\u1ea3i nghi\u1ec7m ng\u01b0\u1eddi d\u00f9ng. Ngo\u00e0i ra, v\u00ec n\u1ed9i dung HTML c\u1ee7a trang web \u0111\u00e3 \u0111\u01b0\u1ee3c render s\u1eb5n v\u00e0 g\u1eedi \u0111\u1ebfn tr\u00ecnh duy\u1ec7t, n\u00ean c\u00e1c c\u00f4ng c\u1ee5 t\u00ecm ki\u1ebfm (search engines) c\u00f3 th\u1ec3 d\u1ec5 d\u00e0ng thu th\u1eadp d\u1eef li\u1ec7u v\u00e0 \u0111\u00e1nh gi\u00e1. \u0110i\u1ec1u n\u00e0y gi\u00fap \u0111i\u1ec3m SEO c\u1ee7a trang web \u0111\u01b0\u1ee3c c\u1ea3i thi\u1ec7n t\u1ed1t h\u01a1n.","title":"Server Side Rendering (SSR)"},{"location":"web/ssr-and-csr/#so-sanh-csr-va-ssr","text":"\u1ede tr\u00ean, ch\u00fang ta \u0111\u00e3 \u0111\u1ec1 c\u1eadp \u0111\u1ebfn kh\u00e1i ni\u1ec7m c\u01a1 b\u1ea3n c\u1ee7a CSR v\u00e0 SSR, ph\u1ea7n n\u00e0y ch\u00fang ta s\u1ebd th\u1ea3o lu\u1eadn v\u1ec1 nh\u1eefng \u01b0u \u0111i\u1ec3m v\u00e0 nh\u01b0\u1ee3c \u0111i\u1ec3m c\u1ee7a hai ph\u01b0\u01a1ng th\u1ee9c k\u1ec3 tr\u00ean. T\u1eeb \u0111\u00f3 ta c\u00f3 th\u1ec3 c\u00f3 nh\u1eefng ti\u00eau ch\u00ed l\u1ef1a ch\u1ecdn ph\u01b0\u01a1ng th\u1ee9c ph\u00f9 h\u1ee3p cho \u1ee9ng d\u1ee5ng c\u1ee7a m\u00ecnh. M\u00ecnh s\u1ebd so s\u00e1nh hai ph\u01b0\u01a1ng th\u1ee9c d\u1ef1a tr\u00ean nh\u1eefng y\u1ebfu t\u1ed1 sau: SEO Tr\u1ea3i nghi\u1ec7m ng\u01b0\u1eddi d\u00f9ng Chi ph\u00ed ph\u00e1t tri\u1ec3n v\u00e0 v\u1eadn h\u00e0nh","title":"So s\u00e1nh CSR v\u00e0 SSR"},{"location":"web/ssr-and-csr/#seo","text":"SEO (Search Engine Optimization - T\u1ed1i \u01b0u ho\u00e1 c\u00f4ng c\u1ee5 t\u00ecm ki\u1ebfm), l\u00e0 qu\u00e1 tr\u00ecnh ch\u00fang ta t\u1ed1i \u01b0u ho\u00e1 trang web \u0111\u1ec3 c\u1ea3i thi\u1ec7n th\u1ee9 h\u1ea1ng c\u1ee7a n\u00f3 tr\u00ean c\u00e1c c\u00f4ng c\u1ee5 t\u00ecm ki\u1ebfm. M\u1ed9t trang web c\u00f3 SEO t\u1ed1t, s\u1ebd d\u1ec5 d\u00e0ng ti\u1ebfp c\u1eadn b\u1edfi ng\u01b0\u1eddi d\u00f9ng h\u01a1n. V\u00ec th\u1ebf \u0111\u00e2y c\u0169ng l\u00e0 m\u1ed9t y\u1ebfu t\u1ed1 quan tr\u1ecdng c\u1ea7n xem x\u00e9t khi m\u00ecnh mu\u1ed1n x\u00e2y d\u1ef1ng m\u1ed9t trang web c\u00f3 nhi\u1ec1u l\u01b0\u1ee3ng truy c\u1eadp. Quay v\u1ec1 hai ph\u01b0\u01a1ng th\u1ee9c k\u1ec3 tr\u00ean, v\u1edbi CSR n\u1ed9i dung c\u1ee7a trang web ch\u1ec9 \u0111\u01b0\u1ee3c hi\u1ec3n th\u1ecb sau khi th\u1ef1c thi JavaScript. Trong th\u1eddi gian \u0111\u1ee3i cho JavaScript th\u1ef1c thi th\u00e0nh c\u00f4ng, n\u1ed9i dung c\u1ee7a trang s\u1ebd tr\u1ed1ng, d\u1eabn \u0111\u1ebfn vi\u1ec7c c\u00e1c c\u00f4ng c\u1ee5 t\u00ecm ki\u1ebfm kh\u00f4ng thu th\u1eadp \u0111\u1ee7 nh\u1eefng n\u1ed9i dung c\u1ea7n thi\u1ebft. \u0110i\u1ec1u n\u00e0y l\u00e0m cho SEO c\u1ee7a trang web s\u1ebd k\u00e9m \u0111i. M\u1ed9t s\u1ed1 gi\u1ea3i ph\u00e1p l\u00e0 pre-rendering ho\u1eb7c hydration. Tuy nhi\u00ean n\u1ebfu t\u1ec7p JavaScript c\u1ee7a b\u1ea1n nh\u1ecf th\u00ec c\u00f3 th\u1ec3 kh\u00f4ng c\u1ea7n quan t\u00e2m \u0111\u1ebfn v\u1ea5n \u0111\u1ec1 n\u00e0y. Trong khi \u0111\u00f3, SSR cung c\u1ea5p n\u1ed9i dung \u0111\u00e3 k\u1ebft xu\u1ea5t \u0111\u1ea7y \u0111\u1ee7 cho tr\u00ecnh duy\u1ec7t, \u0111\u00e3 s\u1eb5n s\u00e0ng cung c\u1ea5p cho c\u00e1c c\u00f4ng c\u1ee5 t\u00ecm ki\u1ebfm. V\u00ec th\u1ebf nh\u1eefng trang web s\u1eed d\u1ee5ng SSR s\u1ebd c\u00f3 SEO t\u1ed1t h\u01a1n.","title":"SEO"},{"location":"web/ssr-and-csr/#trai-nghiem-nguoi-dung","text":"V\u1edbi CSR, \u1edf l\u1ea7n t\u1ea3i \u0111\u1ea7u ti\u00ean, tr\u00ecnh duy\u1ec7t m\u1ea5t nhi\u1ec1u th\u1eddi gian \u0111\u1ec3 hi\u1ec3n th\u1ecb n\u1ed9i dung c\u1ee7a trang web n\u1ebfu t\u1ec7p JavaScript l\u1edbn. Tuy nhi\u00ean sau khi t\u1ea3i xong, t\u1ed1c \u0111\u1ed9 c\u1ee7a trang web s\u1ebd tr\u1edf n\u00ean nhanh h\u01a1n, khi\u1ebfn t\u01b0\u01a1ng t\u00e1c c\u1ee7a ng\u01b0\u1eddi s\u1eed d\u1ee5ng tr\u1edf n\u00ean m\u01b0\u1ee3t m\u00e0 h\u01a1n. Ng\u01b0\u1ee3c l\u1ea1i, SSR cho ph\u00e9p hi\u1ec3n th\u1ecb n\u1ed9i dung l\u1ea7n \u0111\u1ea7u ti\u00ean s\u1edbm h\u01a1n, nh\u01b0ng t\u01b0\u01a1ng t\u00e1c s\u1ebd kh\u00f4ng m\u01b0\u1ee3t khi so s\u00e1nh v\u1edbi CSR. Do \u0111\u00f3 m\u00ecnh th\u1ea5y c\u0169ng kh\u00e1 kh\u00f3 \u0111\u1ec3 \u0111\u00e1nh gi\u00e1 ph\u01b0\u01a1ng ph\u00e1p n\u00e0o cung c\u1ea5p tr\u1ea3i nghi\u1ec7m t\u1ed1t h\u01a1n cho ng\u01b0\u1eddi d\u00f9ng. \u0110i\u1ec1u n\u00e0y c\u00f3 th\u1ec3 ph\u1ee5 thu\u1ed9c v\u00e0o nghi\u1ec7p v\u1ee5, hay t\u00ednh ch\u1ea5t c\u1ee7a t\u1eebng trang web. N\u1ebfu trang web c\u1ee7a m\u00ecnh c\u00f3 nhi\u1ec1u t\u01b0\u01a1ng t\u00e1c \u0111\u1ed9ng, CSR c\u00f3 th\u1ec3 l\u00e0 l\u1ef1a ch\u1ecdn ph\u00f9 h\u1ee3p h\u01a1n. N\u1ebfu mu\u1ed1n n\u1ed9i dung trang web mu\u1ed1n hi\u1ec3n th\u1ecb \u0111\u1ebfn ng\u01b0\u1eddi d\u00f9ng s\u1edbm h\u01a1n, m\u00ecnh c\u00f3 th\u1ec3 d\u00f9ng SSR.","title":"Tr\u1ea3i nghi\u1ec7m ng\u01b0\u1eddi d\u00f9ng"},{"location":"web/ssr-and-csr/#chi-phi-phat-trien-va-van-hanh","text":"Khi d\u00f9ng CSR, vi\u1ec7c x\u1eed l\u00fd k\u1ebft xu\u1ea5t n\u1ed9i dung c\u1ee7a trang \u0111\u01b0\u1ee3c \u0111\u1ea9y v\u1ec1 ph\u00eda client n\u00ean kh\u00f4ng ti\u00eau t\u1ed1n nhi\u1ec1u t\u00e0i nguy\u00ean c\u1ee7a server. Trong khi \u0111\u00f3 v\u1edbi SSR, vi\u1ec7c x\u1eed l\u00fd \u0111\u00f3 \u0111\u01b0\u1ee3c th\u1ef1c hi\u1ec7n ph\u00eda server, v\u00ec th\u1ebf ch\u00fang ta c\u1ea7n ph\u1ea3i t\u1ed1i \u01b0u n\u00f3. \u0110i\u1ec1u n\u00e0y c\u00f3 th\u1ec3 d\u1eabn \u0111\u1ebfn chi ph\u00ed cho ph\u00e1t tri\u1ec3n v\u00e0 v\u1eadn h\u00e0nh SSR s\u1ebd cao h\u01a1n so v\u1edbi CSR. T\u1eeb \u0111\u00f3 ta c\u00f3 th\u1ec3 th\u1ea5y, n\u1ebfu m\u00ecnh kh\u00f4ng c\u00f3 \u0111\u1ee7 t\u00e0i nguy\u00ean ph\u00eda server th\u00ec n\u00ean ch\u1ecdn CSR thay v\u00ec SSR. N\u1ebfu t\u00e0i nguy\u00ean server kh\u00f4ng ph\u1ea3i l\u00e0 v\u1ea5n \u0111\u1ec1, b\u1ea1n c\u00f3 th\u1ec3 d\u00f9ng SSR.","title":"Chi ph\u00ed ph\u00e1t tri\u1ec3n v\u00e0 v\u1eadn h\u00e0nh"},{"location":"web/ssr-and-csr/#tai-lieu-tham-khao","text":"Client-side Rendering (CSR) Are Core Web Vitals A Ranking Factor?","title":"T\u00e0i li\u1ec7u tham kh\u1ea3o"}]}